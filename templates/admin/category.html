
{% extends 'layouts/master.html' %}
{% load static %} 

{% block title %}Category {% endblock %}

{% block content %}

    <div class="d-flex flex-column flex-root">
        <!--begin::Page-->
        <div class="page d-flex flex-row flex-column-fluid">
            <!--begin::Aside-->
            <div id="kt_aside" class="aside" data-kt-drawer="true" data-kt-drawer-name="aside"
                data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true"
                data-kt-drawer-width="{default:'200px', '300px': '250px'}" data-kt-drawer-direction="start"
                data-kt-drawer-toggle="#kt_aside_mobile_toggle">
                <!--begin::Aside menu-->
                {% include 'components/leftNavigationBar.html' %}
                <!--end::Aside menu-->
            </div>
            <!--end::Aside-->
            <!--begin::Wrapper-->
            <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
                {% include 'components/header.html' with default_title="Category" %}
                <!--begin::Content-->
                <div class="content d-flex flex-column flex-column-fluid" id="kt_content">
                    <!--begin::Container-->

                    <div id="kt_content_container" class="container-fluid">
                        {% if request.session.message %}
                            <div class="alert alert-success">
                                {{ request.session.message }}
                            </div>
                        {% endif %}

                        <div class="row g-5 g-xxl-10">
                            <div class="col-xl-12 mb-5 mb-xxl-10">
                                <!--begin::Table Widget 3-->
                                <div class="card card-flush h-xl-100">

                                    <!--begin::Card body-->
                                    <div class="tab-content card-body pt-1">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <table
                                                    class="table table-row-dashed align-middle fs-6 gy-4 my-0 pb-3 table table-striped"
                                                    data-kt-table-widget-3="all">
                                                    <thead class="">
                                                        <tr>
                                                            <th class="fs-3 text-muted fw-bolder">Name</th>
                                                            <th class="fs-3 text-muted fw-bolder">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                            <tr>
                                                                <td class="fs-4 text-muted fw-bolder ps-3">
                                                                    Mind</td>
                                                                <td>
                                                                    <div class="d-grid gap-2 d-md-block">
                                                                        <button class="btn btn-transparent p-2"
                                                                            type="button" data-bs-toggle="modal"
                                                                            data-bs-target="#exampleModal1">
                                                                            <img style="width: 22px;"
                                                                                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAADWElEQVRYhc2XUWhbVRyHv/9J2ln2YBVd2gyhTVIsnTDwRceauiSCWHAPPoiob1OL6MCHzYeBessehDF8EYq4Z9mLiDgQxWR1hcn2oIg6F4hEmaxN0CqyrVCk5+dDb9K5Nultmqm/p3M49/6/j3vOufce+I9jt/RdJpMZ9d6POudikQqYfV+pVC53KhBvNNLp9H3AaUn7zQxJkQpIWgTu2Wgs+PSXu31PvAA24LCvgkLiy1YCDjgN7AeuAheBlYgC64oCBKVaHvSBwV0ghAhKC2dY0tPBE8mlxnUGkMlkxiRdAq5K2lOtVv+MAm+VoFh/FPMfC/qAOeBbsOdA/QYllnSwIeEAvPej4b0XuwoXM9P5gQPThcHD5vw+EwuCAn32YRDINQVuWnCRHntkeGHgFcwEEOSSZWLKAzUZj5FdeLEp0I20gzevySXLkr262rODXROIAm/G6XrY6u2KwFbgx4r1hImTAN6sBDe9B/4NeI/5s8Aosm/+WL729rYEgtL8BPiPBH2GnQoKiZbw4LPaLpkvAmNA2WLu8XcmR5ahwylYhdsngp2GnQryiam28LhKwANA2VwsF+R21RrjWxboJnzLAt2Gb0mgU7jB5VbwyAJvfFF7AdnnHnYiZtrBjxXrCcU1G8K/W+7hkVbwyAK2wkkZvcCl6cLA4QhbbSyEF96aGPy1Xe1NBYJAztAOAIM9wWx9BunWH5mO4JEE/to3v1uww9CiwQ1JU2+eXXiv8TUDCGZ/6u8EHkmgJx4bWW3ZD6BJgxtgzzOxJrGiO/ZGhQ8PD2fT6fS7Q0ND/ZEEMJ8BkKgEheQcaBK4LtmhhsTx/OA5b36c5d7xTefcuZeBKedcHqK8ir1lMMD4/fXifBZzGcmfcbKnhB2ybC0DHDie331+01qhQygSiyQgsxEQwBFndkQShtFYhoL7I4I3zKYCZtQlMFgEfhRWManizSoe6vElf+G2CgS5xEuvnf/t6Inxe69tB9RWwHu/YmYA6w8jZjoB3YTHQqaHtQVRDgcfSqVSd3YR9o+EW+/hsHsF1o5mLp1OnwPGgXngAtv8Q94gsRCelDRXrVZzgG+sAQ88A7wPZIEnuwxvRtKcc+7ZkLn+cJpKpR50zg3fDrb3/udqtfp1A/6/yN+YYbjrot53XgAAAABJRU5ErkJggg==">
                                                                        </button>
                                                                        <a href="#"
                                                                            class="btn btn-transparent p-2"
                                                                            type="button"><img style="width: 22px;"
                                                                                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAADp0lEQVRYhc2X32ubVRjHP8+bbEtNdS2zorlpm5OklUCsFAXZnLqq+C94I/PCi13o9ZAxIojCQLzxQnajBS+m4rU3Zm5uzEGFsWJUurxNLFVLW9iwXdcmb87jRd7YvG1+tSno9yYn53yf5/nmeU6ecw78x5C9kIeHh58Ih8MTItLfbF1V16vV6q1SqbR04AISicR7qnoWONyBWhaRDwuFQvbABBhjTgOfAR6QA/5uQX0EmALCwGnXdac7+Q53IwB4G0BE3iwUCl90EPsGMA2843+2hdOJMD4+fgyYAB4AX3fiRyKRS8AG8HQqlXq0ZwHlcvlFn3ejUChsdeLn8/kycBMQz/NOduLvKoEx5riqfgBMiki0YelqJ2cNuAKcEpFvjDGo6n0R+Ql413XdG43EQAaMMceBqyJyckfwVWvtV91G97mr9e++rxeAHxKJxHMtDY0xV4wxGo/HP8pkMtGWxD0ik8lEE4nEx8YYNcb82LgW+BvG4/F1EYlGo9H+2dnZ+wclACCdTvdvbm6uAWXXdY/U5wMlqKf9oIMD5PP5dX8YaGQ7N+GfQGx0dPRbx3FSO8k9oAzc8cd/tBSgqudE5KLjOK8dUOBGxKl10nONk7tacSqVilcqldcdx3kf+EtELvUaWVXXVfV2OBy+NTc3N99WAMDIyMh4KBT6FZhzXXesl+DGmC+BpyKRSMZvUgE0PQs8z1sOhUIAQ70E9/EqMLC2thalthcCaNqKFxcX71Kr18Dk5OShxrWz134fzOaWTqG6nT1VOX95aSr7fXGgkZtOpw8DR4HKwsLCvWaxWp0FSq2TyerqauBAOVI+dEHRXDa3PFWfO59bfllUv8P2XWjkViqVIWplXvF9di0A3wjHcQJlEOQogBU7uD1p/V+ugQyo6hCAiKy0CtJRgIg81obTFp7nDflC9i+AHjaiiNRt9yVgeYcT3ysWwBGt/uvEHytUCaJuu9wqSLsrWfMMVPUTHLn7oBrJbYvauoxGPrViA9e1bjLQUoCqrojILgHZV2LXgeuBuZdG7wFnmrip75/9l0BVY204baGqj+9bgLX2FwARORGLxR7aa/BMJhMVked9IT/vWUCpVPoNmAEG+/r6Pk+n001fQ80wNjb28MbGxjQwANycn5+/04rb9mGSTCYnrLXXgH5qnXEGWG9n43OfBY4Ba9baE8VicXZfAhpEXASe6cTdgRlr7VvFYvF2O1LXb8NkMvmkqnZzS9ryPG/OL+H/H/8AzDJIFzqAtQMAAAAASUVORK5CYII="></a>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <!-- Modal -->
                                                            <div class="modal fade" id="exampleModal1}"
                                                                tabindex="-1" aria-labelledby="exampleModalLabel"
                                                                aria-hidden="true">
                                                                <div class="modal-dialog">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h5 class="modal-title" id="exampleModalLabel">
                                                                                Edit Category</h5>
                                                                            <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                        </div>

                                                                        <div class="mx-5 my-5 content">
                                                                            <label for="exampleInputEmail1"
                                                                                class="form-label">Category
                                                                                Name</label>
                                                                            <input type="text"
                                                                                id="catName1"
                                                                                class="form-control" name="category_name"
                                                                                value="1" required>


                                                                            <div class="button_container mt-5">
                                                                                <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Close</button>
                                                                                <button type="button"
                                                                                    class="btn btn-primary"
                                                                                    onclick="editCategory1">Save
                                                                                    changes</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                    </tbody>
                                                </table>
                                                <!--end::Table-->

                                                <nav aria-label="Page navigation example">
                                                    <ul class="pagination">
                                                        {% if pages.prevPage > 0 %}
                                                            <li id="prevPage" class="page-item">
                                                                <a class="page-link" href="{% url 'category' pages.prevPage %}" tabindex="-1">Previous</a>
                                                            </li>
                                                        {% else %}
                                                            <li id="prevPage" class="page-item disabled">
                                                                <a class="page-link" href="#" tabindex="-1">Previous</a>
                                                            </li>
                                                        {% endif %}
                                                        <li id="currentPage" class="page-item"><a class="page-link" href="#">{{ pages.page }}</a></li>
                                                        {% if pages.hasNext %}
                                                            <li id="hasNext" class="page-item"><a class="page-link" href="{% url 'category' pages.nextPage %}">Next</a></li>
                                                        {% else %}
                                                            <li id="hasNext" class="page-item disabled"><a class="page-link" href="#">Next</a></li>
                                                        {% endif %}
                                                    </ul>
                                                    
                                                </nav>
                                            </div>
                                            <div class="col-md-6 py-5">
                                                <h3 class="fs-3 text-muted fw-bolder">Create Category</h3>
                                                <form method="post" action="{% url 'creatCategory' %}">
                                                    {% csrf_token %}
                                                    <div class="mb-3">
                                                        <label for="exampleInputEmail1" class="form-label">Category Name</label>
                                                        <input type="text" class="form-control" name="category_name" required>
                                                    </div>
                                                    <button type="submit" class="btn btn-primary">Submit</button>
                                                </form>
                                                
                                            </div>

                                        </div>
                                    </div>
                                    <!--end::Card body-->
                                </div>
                                <!--end::Table Widget 3-->
                            </div>
                            <!--end::Col-->
                        </div>
                    </div>
                    <!--end::Container-->
                </div>
                <!--end::Content-->
                <!--begin::Footer-->
                {% include 'components/footer.html' %}
                <!--end::Footer-->
            </div>
            <!--end::Wrapper-->
        </div>
        <!--end::Page-->
    </div>
    <!--end::Root-->
    <!--end::Main-->

    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
        <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
        <span class="svg-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect opacity="0.5" x="13" y="6" width="13" height="2" rx="1"
                    transform="rotate(90 13 6)" fill="black" />
                <path
                    d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z"
                    fill="black" />
            </svg>
        </span>
        <!--end::Svg Icon-->
    </div>
    <!--end::Scrolltop-->
    <script>
        // Your code
        function editCategory(id) {
            $(document).ready(function() {
                //alert(id);
                var name = $("#catName" + id).val();

                $.ajax({
                    type: 'get',
                    url: 'edit-category/' + id,
                    data: {
                        id: id,
                        name: name,
                    },
                    success: function(data) {
                        // var error = JSON.parse(data);
                        // alert(error.errors.detail);
                        location.reload();
                    },
                    error: function(data) {
                        console.log(data);
                    }
                });
            });
        }
    </script>
    {% endblock %}